<!doctype html>
<html ng-app='BrowseModule'>
  <head>
    <meta name='MSSmartTagsPreventParsing' content='true'>
    <meta charset='UTF-8'>
    <script data-main='js/app' src='js/lib/require.js'></script>
  </head>
  <body ng-controller='RepoCtrl'>
    <nav id='manifest'>
      <h1><a href='{{repo.url}}/'>{{repo.name}}</a></h1>
      <form ng-submit='changeRepo()'>
        <input
          ng-model='newRepoId'
          type='text'
          title='Change repository'>
        <span class='visible-{{repo.refs.length > 0}}'>
          <input
            type='text'
            ng-model='newRepoRef'
            title='Change branch (or paste commit id)'
          ><button type='button' title='Show branches and tags'>â€¦</button>
          <button type='submit' style='visibility: hidden'>x</button>
        </span>
        <ul>
          <li ng-repeat='ref in repo.refs'>{{ref}}</li>
        </ul>
      </form>
      <section class='paths'>
        <section ng-repeat='section in repo.manifest.files'>
          <h1>{{section[0]}}</h1>
          <ul>
            <li ng-repeat='file in section.slice(1)' data-path='{{file.path}}'>
              {{file.name}}
            </li>
          </ul>
        </section>
      </section>
    </nav>
    <div id='file' ng-controller='FileCtrl'>
      <div class='toc toc-{{hasToc}}'>
        <div class='toggle' ng-click='toggleToc()'>{{tocAction}} toc</div>
        <ul>
          <li ng-repeat='h in headings' class='level{{h.level}}'>
            <a href='#{{h.id}}'>{{h.text}}</a>
          </li>
        </ul>
      </div>
      <ul class='names names-{{hasNames}}'>
        <li ng-repeat='n in names'><a href='#{{n}}'>{{n}}</a></li>
      </ul>
      <article class='content'>
      </article>
    </div>
  </body>
</html>
